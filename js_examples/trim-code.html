<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      function additems() {
        const userName = document.getElementById("userName");
        let item = userName.value.trim();
        const lstItem = document.getElementById("listItem");
        let li = document.createElement("li");
        li.textContent = item.trim();
        lstItem.appendChild(li);
        userName.value = "";
        userName.focus();
        document.getElementById("addItem").disabled = true;
        document.getElementById("resetList").disabled = false;
        document.getElementById("deleteItem").disabled = false;
      }
      function resetItems() {
        const userName = document.getElementById("userName");
        const lstItem = document.getElementById("listItem");
        lstItem.innerHTML = "";
        userName.focus();
        document.getElementById("resetList").disabled = true;
      }
      function disabledButton(){
        document.getElementById("addItem").disabled = true;
        document.getElementById("resetList").disabled = true;
        document.getElementById("deleteItem").disabled = true;
      }
      function toggleButton() {
        document.getElementById("addItem").disabled = false;
      }

      function deleteItem(){
        const lstItem=document.getElementById('listItem');
        if(lstItem.childElementCount==0){
            alert('Empty List Cannot be delete');
            document.getElementById("resetList").disabled = true;
            document.getElementById("deleteItem").disabled = true;
        }
        else if(lstItem.childElementCount>0){
            lstItem.removeChild(lstItem.lastElementChild);
            if(lstItem.childElementCount<1){
                document.getElementById("resetList").disabled = true;
                document.getElementById("deleteItem").disabled = true;
            }   
        }
      }
    </script>
  </head>
  <body onload="disabledButton()">
    <input type="text" id="userName" oninput="toggleButton()" />
    <button onclick="additems()" id="addItem">Add to list</button>
    <button onclick="resetItems()" id="resetList">Reset List</button>
    <button onclick="deleteItem()" id="deleteItem">Delete Item</button>

    <ul id="listItem"></ul>
  </body>
</html>
